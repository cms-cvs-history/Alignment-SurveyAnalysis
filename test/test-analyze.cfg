process TEST = {
    
    // Message logger service
    // include "FWCore/MessageService/data/MessageLogger.cfi"
    // replace MessageLogger.cout.default.limit = 100000
    service = MessageLogger { 
		untracked vstring destinations = { "cout", "testana" } # .log automatically
		untracked vstring statistics = { "cout", "testana" }	
	}

    // Ideal geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi" 
    # include "Geometry/TrackerRecoData/data/trackerRecoGeometryXML.cfi"
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    
    // Empty event source
    source = EmptySource { 
          untracked int32 maxEvents = 1 
    }
    
    // Reading from DB
    include "CondCore/DBCommon/data/CondDBCommon.cfi"
    replace CondDBCommon.connect = "sqlite_file:TibTidModuleSurvey.db"    
    # replace CondDBCommon.connect = "oracle://devdb10/CMS_COND_ALIGNMENT"
    es_source = PoolDBESSource { 
        using CondDBCommon
        VPSet toGet = {            
            { string record = "TrackerAlignmentRcd" 
              string tag = "TibTidTecAllSurvey_v1" },
            { string record = "TrackerAlignmentErrorRcd" 
              string tag = "TibTidTecAllSurveyAPE_v1" }
        }
    }
    
    // Test module
    module prod =  TestConverter {
          untracked string fileName = "test.root"
          PSet textFileNames = {
             untracked string forTIB = "../data/GetTibSurvey/TIBNewSurvey.dat"
             untracked string forTID = "../data/GetTibSurvey/TIDNewSurvey.dat"
          }
    }
    
    path p1 = { prod }      
    
}
