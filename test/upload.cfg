process TEST =
{
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
  include "Alignment/SurveyAnalysis/test/dbSetup.cfi"

  source = EmptySource {}

  untracked PSet maxEvents = { untracked int32 input = 0 }

  module tracker = SurveyInputDummy
  {
    bool randomizeValue = false

    VPSet errors =
    {
      { string level = "DetUnit"         double value = 5e-4 },
      { string level = "Det"             double value = 5e-4 },
      { string level = "TPEPanel"        double value = 1e-3 },
      { string level = "TPEBlade"        double value = 1e-3 },
      { string level = "TPEHalfDisk"     double value = 5e-3 },
      { string level = "TPEHalfCylinder" double value = 1e-2 },
      { string level = "TPEEndcap"       double value = 5e-2 },
      { string level = "TPBLadder"       double value = 1e-3 },
      { string level = "TPBLayer"        double value = 5e-3 },
      { string level = "TPBHalfBarrel"   double value = 1e-2 },
      { string level = "TPBBarrel"       double value = 5e-2 },
      { string level = "Pixel"           double value = 2e-1 }
    }
  }

  module uploader = SurveyDBUploader
  {
    string valueRcd = "TrackerSurveyRcd"
    string errorRcd = "TrackerSurveyErrorRcd"
  }

  service = PoolDBOutputService
  {
    using dbSetup

    VPSet toPut = { {using surveyValueRcd}, {using surveyErrorRcd} }
  }

  path p = { tracker, uploader }
}
