process TEST =
{
  include "FWCore/MessageService/data/MessageLogger.cfi"
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
  include "Alignment/SurveyAnalysis/test/dbSetup.cfi"

  source = EmptySource {}

  untracked PSet maxEvents = { untracked int32 input = 0 }

  module tracker = SurveyInputDummy
  {
    VPSet errors =
    {
      { string level = "DetUnit"      double value = 1e-2 },
      { string level = "Panel"        double value = 1e-2 },
      { string level = "Blade"        double value = 1e-2 },
      { string level = "HalfDisk"     double value = 1e-2 },
      { string level = "HalfCylinder" double value = 5e-4 },
      { string level = "PixelEndcap"  double value = 5e-4 }
    }
  }

  module uploader = SurveyDBUploader
  {
    string valueRcd = "TrackerSurveyRcd"
    string errorRcd = "TrackerSurveyErrorRcd"
  }

  service = PoolDBOutputService
  {
    using dbSetup

    VPSet toPut = { {using surveyValueRcd}, {using surveyErrorRcd} }
  }

  path p = { tracker, uploader }
}
